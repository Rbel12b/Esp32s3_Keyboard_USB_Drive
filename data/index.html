<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ESP32 USB Keyboard</title>
    <style>
        body {
            font-family: sans-serif;
            max-width: 600px;
            margin: auto;
            padding: 16px;
            background: #f5f5f5;
        }

        h2 {
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 8px;
        }

        h3 {
            color: #555;
            margin-top: 20px;
        }

        input {
            width: 100%;
            margin: 8px 0;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .section {
            background: white;
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .scrollable {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            max-height: 200px;
            overflow-y: auto;
            padding: 4px;
        }

        button {
            padding: 8px 12px;
            margin: 2px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            white-space: nowrap;
        }

        button:hover {
            background: #0056b3;
        }

        button:active {
            background: #003d82;
        }
    </style>
</head>

<body>

    <h2>USB Keyboard</h2>

    <div class="section">
        <input id="text" placeholder="Text">
        <button onclick="post('/text', text.value)">Send Text</button>
    </div>

    <div class="section">
        <h3>Modifier Combos</h3>
        <div class="scrollable">
            <button onclick="combo('CTRL','C')">Ctrl+C</button>
            <button onclick="combo('CTRL','V')">Ctrl+V</button>
            <button onclick="combo('CTRL','X')">Ctrl+X</button>
            <button onclick="combo('CTRL','Z')">Ctrl+Z</button>
            <button onclick="combo('CTRL','A')">Ctrl+A</button>
            <button onclick="combo('ALT','TAB')">Alt+Tab</button>
            <button onclick="combo('WIN','R')">Win+R</button>
            <button onclick="combo('CTRL','ALT','DEL')">Ctrl+Alt+Del</button>
            <button onclick="combo('SHIFT','TAB')">Shift+Tab</button>
        </div>
    </div>

    <div class="section">
        <h3>Single Keys</h3>
        <div class="scrollable">
            <button onclick="key('RETURN')">Return</button>
            <button onclick="key('ESC')">Esc</button>
            <button onclick="key('TAB')">Tab</button>
            <button onclick="key('BACKSPACE')">Backspace</button>
            <button onclick="key('DEL')">Delete</button>
            <button onclick="key('INS')">Insert</button>
            <button onclick="key('HOME')">Home</button>
            <button onclick="key('END')">End</button>
            <button onclick="key('PAGEUP')">Page Up</button>
            <button onclick="key('PAGEDOWN')">Page Down</button>
            <button onclick="key('UP')">↑</button>
            <button onclick="key('DOWN')">↓</button>
            <button onclick="key('LEFT')">←</button>
            <button onclick="key('RIGHT')">→</button>
            <button onclick="key('CAPSLOCK')">Caps Lock</button>
        </div>
    </div>

    <div class="section">
        <h3>Function Keys</h3>
        <div class="scrollable">
            <button onclick="key('F1')">F1</button>
            <button onclick="key('F2')">F2</button>
            <button onclick="key('F3')">F3</button>
            <button onclick="key('F4')">F4</button>
            <button onclick="key('F5')">F5</button>
            <button onclick="key('F6')">F6</button>
            <button onclick="key('F7')">F7</button>
            <button onclick="key('F8')">F8</button>
            <button onclick="key('F9')">F9</button>
            <button onclick="key('F10')">F10</button>
            <button onclick="key('F11')">F11</button>
            <button onclick="key('F12')">F12</button>
            <button onclick="key('F13')">F13</button>
            <button onclick="key('F14')">F14</button>
            <button onclick="key('F15')">F15</button>
            <button onclick="key('F16')">F16</button>
            <button onclick="key('F17')">F17</button>
            <button onclick="key('F18')">F18</button>
            <button onclick="key('F19')">F19</button>
            <button onclick="key('F20')">F20</button>
            <button onclick="key('F21')">F21</button>
            <button onclick="key('F22')">F22</button>
            <button onclick="key('F23')">F23</button>
            <button onclick="key('F24')">F24</button>
        </div>
    </div>

    <div class="section">
        <h3>Raw HID (ASCII byte hex)</h3>
        <input id="hex" placeholder="41">
        <button onclick="post('/hex', hex.value)">Send Hex</button>
    </div>

    <div class="section">
        <h3>Custom Key Combo</h3>
        <input id="customCombo" placeholder="e.g., CTRL+ALT+S">
        <button onclick="post('/combo', document.getElementById('customCombo').value)">Send Custom Combo</button>
    </div>

    <script>
        function post(url, body) {
            fetch(url, { method: "POST", body });
        }
        function key(k) {
            post("/combo", k);
        }
        function combo(...keys) {
            post("/combo", keys.join("+"));
        }
    </script>

</body>

</html>